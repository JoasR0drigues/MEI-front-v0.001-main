<div class="container">
    <h2>Gerenciamento de Transações</h2>
  
    <!-- Formulário para criar uma nova transação -->
    <div>
      <h3>Nova Transação</h3>
      <form (ngSubmit)="cadastrarTransacao()">
        <div class="form-group">
          <label for="codigoTransacao">Codigo Transação</label>
          <input [(ngModel)]="transacao.codigoTransacao" name="codigo_transacao" class="form-control" type="number" required />
        </div>
        <div class="form-group">
          <label for="data">Data</label>
          <!-- Aqui, o tipo 'date' já irá gerar um valor no formato 'yyyy-MM-dd' -->
          <input [(ngModel)]="transacao.date" name="data" class="form-control" type="datetime-local" required />
        </div>
        <div class="form-group">
          <label for="valor">Valor</label>
          <input [(ngModel)]="transacao.valor" name="valor" class="form-control" type="number" required />
        </div>
        <div class="form-group">
          <label for="receita">Receita</label>
          <input [(ngModel)]="transacao.receita" name="receita" class="form-control" type="text" required />
        </div>
        <div class="form-group">
          <label for="despesa">Despesa</label>
          <input [(ngModel)]="transacao.despesa" name="despesa" class="form-control" type="text" required />
        </div>
        <div class="form-group">
          <label for="conta">Conta</label>
          <input [(ngModel)]="transacao.conta" name="conta" class="form-control" type="text" required />
        </div>
        <!-- ERRRADO!!! 
        <div class="form-group">
          <label for="tipo">Tipo</label>
          <select [(ngModel)]="transacao.receita" name="tipo" class="form-control" required>
            <option [ngValue]="true">Receita</option>
            <option [ngValue]="false">Despesa</option>
          </select>
        </div>
        -->
        <button type="submit" class="btn btn-primary">Adicionar Transação</button>
      </form>
      
    </div>
  
    <!-- Lista de transações -->
    <div *ngIf="transacoes.length > 0" class="mt-4">
      <h3>Lista de Transações</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Codigo Transação</th>
            <th>Data</th>
            <th>Valor</th>
            <th>Descrição</th>
            <th>Receita</th>
            <th>Despesa</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let transacao of transacoes; let i = index">
            <td>{{ transacao.codigoTransacao}}</td>
            <td>{{ transacao.date | date }}</td>
            <td>{{ transacao.valor | currency }}</td>
            <td>{{ transacao.descricao }}</td>
            <td>{{ transacao.receita }}</td>
            <td>{{ transacao.despesa}}</td>
            <!-- <td>{{ transacao.receita ? 'Receita' : 'Despesa' }}</td>  errado-->
            <td>
              <button class="btn btn-warning btn-sm" (click)="deletarTransacao(i)">Editar</button>
              <button class="btn btn-danger btn-sm" (click)="deletarTransacao(i)">Excluir</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <!-- Formulário para editar transação -->
    <div *ngIf="transacao.codigoTransacao" class="mt-4">
      <h3>Editar Transação</h3>
      <form (ngSubmit)="atualizeTransacao(transacao)">
        <div class="form-group">
          <label for="data">Data</label>
          <input [(ngModel)]="transacao.date" name="data" class="form-control" type="datetime-local" required />
        </div>
        <div class="form-group">
          <label for="valor">Valor</label>
          <input [(ngModel)]="transacao.valor" name="valor" class="form-control" type="number" required />
        </div>
        <div class="form-group">
          <label for="descricao">Descrição</label>
          <input [(ngModel)]="transacao.descricao" name="descricao" class="form-control" type="text" required />
        </div>
        <div class="form-group">
          <label for="tipo">Tipo</label>
          <select [(ngModel)]="transacao.receita" name="tipo" class="form-control">
            <option [ngValue]="true">Receita</option>
            <option [ngValue]="false">Despesa</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Atualizar Transação</button>
        
      </form>
    </div>
  </div>
  