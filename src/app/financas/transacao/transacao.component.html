<div class="container">
  <h2>Gerenciamento de Transações</h2>

  <!-- Formulário para criar uma nova transação -->
  <div>
    <h3>Nova Transação</h3>
    <form>
      <div class="form-group">
        <label for="codigoTransacao">Código Transação</label>
        <input [(ngModel)]="transacao.codigoTransacao" name="codigo_transacao" class="form-control" type="number" required />
      </div>
      <div class="form-group">
        <label for="data">Data</label>
        <input [(ngModel)]="transacao.date" name="data" class="form-control" type="datetime-local" required />
      </div>
      <div class="form-group">
        <label for="valor">Valor</label>
        <input [(ngModel)]="transacao.valor" name="valor" class="form-control" type="number" required />
      </div>
      <div class="form-group">
        <label for="descricao">Descrição</label>
        <input [(ngModel)]="transacao.descricao" name="descricao" class="form-control" type="text" required />
      </div>
      <div class="form-group">
        <label for="conta">Conta</label>
        <input [(ngModel)]="transacao.conta" name="conta" class="form-control" type="text" required />
      </div>
      <!-- Botões para adicionar Receita ou Despesa -->
      <button type="button" class="btn btn-success" (click)="adicionarReceita()">Adicionar Receita</button>
      <button type="button" class="btn btn-danger" (click)="adicionarDespesa()">Adicionar Despesa</button>
    </form>
  </div>

  <!-- Lista de transações -->
  <div *ngIf="transacoes.length > 0" class="mt-4">
    <h3>Lista de Transações</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Código Transação</th>
          <th>Data</th>
          <th>Valor</th>
          <th>Descrição</th>
          <th>Tipo</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transacao of transacoes; let i = index">
          <td>{{ transacao.codigoTransacao }}</td>
          <td>{{ transacao.date | date }}</td>
          <td>{{ transacao.valor | currency }}</td>
          <td>{{ transacao.descricao }}</td>
          <td>{{ transacao.receita ? 'Receita' : 'Despesa' }}</td>
          <td>
            <button class="btn btn-warning btn-sm" (click)="deletarTransacao(i)">Editar</button>
            <button class="btn btn-danger btn-sm" (click)="deletarTransacao(i)">Excluir</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
