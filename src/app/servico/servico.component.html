<div class="container">
  <h2>Serviços</h2>

  <form (ngSubmit)="salvarServico()">
    <div class="form-group">
      <label for="tituloServico">Título</label>
      <input
        type="text"
        id="tituloServico"
        class="form-control"
        [(ngModel)]="novoServico.tituloServico"
        name="tituloServico"
        required
      />
    </div>

    <div class="form-group">
      <label for="cliente">Cliente</label>
      <select
        id="cliente"
        class="form-control"
        [(ngModel)]="novoServico.cliente.codigo"
        name="cliente"
        required
      >
        <option *ngFor="let cliente of clientes" [value]="cliente.codigo">
          {{ cliente.nome }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="valorServico">Valor</label>
      <input
        type="number"
        id="valorServico"
        class="form-control"
        [(ngModel)]="novoServico.valorServico"
        name="valorServico"
        required
      />
    </div>

    <div class="form-group">
      <label for="descricaoServico">Descrição</label>
      <textarea
        id="descricaoServico"
        class="form-control"
        [(ngModel)]="novoServico.descricaoServico"
        name="descricaoServico"
        rows="3"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <input
        type="text"
        id="status"
        class="form-control"
        [(ngModel)]="novoServico.status"
        name="status"
      />
    </div>

    <button type="submit" class="btn btn-primary">Salvar</button>
  </form>

  <hr />

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Título</th>
        <th>Valor</th>
        <th>Descrição</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let servico of servicos">
        <td>{{ servico.tituloServico }}</td>
        <td>{{ servico.valorServico | currency }}</td>
        <td>{{ servico.descricaoServico }}</td>
        <td>{{ servico.status }}</td>
        <td>
          <button class="btn btn-warning" (click)="editarServico(servico)">
            Editar
          </button>
          <button
            class="btn btn-danger"
            (click)="excluirServico(servico.codigo)"
          >
            Excluir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
